## Binary Trees 内存基准

这一套示例统一实现了 [binary-trees](https://benchmarksgame-team.pages.debian.net/benchmarksgame/description/binarytrees.html) 基准：
每个程序都会根据参数 `maxDepth`：

1. 构造一棵短命的 “stretch tree” 并立即丢弃；
2. 保留一棵长寿的 `longLivedTree`；
3. 针对 `minDepth=4` 到 `maxDepth`（步长为 2）的所有深度，批量构造 `2^(maxDepth-depth+minDepth)` 棵满二叉树并遍历；
4. 打印每轮的 `itemCheck` 结果作为正确性校验。

这个模式与真实高负载业务——例如 Web 请求、Kafka 消费、流式计算、游戏服等 “不断创建/销毁短命对象并伴随少量长命对象”——的内存压力非常接近，因此可用来比较 Go、Java、Node.js、Python、Rust、C++、.Net的分配与 GC 行为。

目录结构：

- `go/main.go`
- `java/BinaryTrees.java`
- `nodejs/main.js`
- `python/main.py`
- `rust/src/main.rs`
- `cpp/manual.cc`
- `cpp/unique_ptr.cc`
- `dotnet/Program.cs`

### 依赖

- Go 1.25.4
- Java 21.0.8
- Node.js 18.19.1
- Python 3.12.3
- Rust 1.91.1
- GCC version 13.3.0
- .Net10.0.100

### 操作结果

操作参考

```bash
python3 scripts/run_benchmarks.py
```

输出结果再整理

```
 --------------------------------
 | 语言        | 层 | 内存      |
 --------------------------------
 | C++智能指针 | 10 | 12.83MB   |
 --------------------------------
 | Go          | 10 | 12.84MB   |
 --------------------------------
 | .NET        | 10 | 12.84MB   |
 --------------------------------
 | Rust        | 10 | 12.85MB   |
 --------------------------------
 | Python      | 10 | 12.88MB   |
 --------------------------------
 | C++带delete | 10 | 12.88MB   |
 --------------------------------
 | Node.js     | 10 | 51.47MB   |
 --------------------------------
 | Java        | 10 | 52.08MB   |
 --------------------------------
 | Rust        | 16 | 12.87MB   |
 --------------------------------
 | C++带delete | 16 | 12.9MB    |
 --------------------------------
 | C++智能指针 | 16 | 12.9MB    |
 --------------------------------
 | Go          | 16 | 18.38MB   |
 --------------------------------
 | Python      | 16 | 22.11MB   |
 --------------------------------
 | .NET        | 16 | 40.74MB   |
 --------------------------------
 | Node.js     | 16 | 90.5MB    |
 --------------------------------
 | Java        | 16 | 248.06MB  |
 --------------------------------
 | Go          | 24 | 1908.79MB |
 --------------------------------
 | Rust        | 24 | 2050.15MB |
 --------------------------------
 | C++智能指针 | 24 | 2051.57MB |
 --------------------------------
 | C++带delete | 24 | 2051.61MB |
 --------------------------------
 | Node.js     | 24 | 2993.59MB |
 --------------------------------
 | Python      | 24 | 3094.53MB |
 --------------------------------
 | .NET        | 24 | 3824.61MB |
 --------------------------------
 | Java        | 24 | 6679.49MB |
 --------------------------------
```

### 探索方向

- 调整 `--depths` 以观察更大/更小树的内存占用变化。
- 对单个语言运行 `perf`, `pprof`, `jcmd VM.native_memory` 等工具，深入剖析不同阶段的内存组成。
- 将 `minDepth`、`iterations`、节点结构等参数改造为贴近自己业务的数据结构，测试自定义场景。*** End Patch*** End Patch
